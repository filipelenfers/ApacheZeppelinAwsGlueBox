{
    "variables": {
        "box_version": "1.0",
        "source_box_name": "ubuntu/bionic64",
        "dest_box_name": "zeppelinGlue"
      },
    "builders": [
      {
        "box_name": "{{user `source_box_name`}}",
        "source_path": "{{user `source_box_name`}}",
        "communicator": "ssh",
        "provider": "virtualbox",
        "add_force": true,
        "type": "vagrant",
        "template": "vagrantFileTemplate.rb",
        "output_dir": "build/{{user `dest_box_name`}}"
      }
    ],

    "provisioners": [{
        "type": "file",
        "source": "deps/jdk-7u80-linux-x64.tar.gz",
        "destination": "/vagrant/jdk-7u80-linux-x64.tar.gz"
      },
      {
        "type": "shell",
        "scripts": [
          "scripts/installJava7.sh"
        ],
        "execute_command": "echo 'packer' | sudo -S sh -c '{{ .Vars }} {{ .Path }}'"
      },
      {
        "type": "file",
        "source": "deps/zeppelin-0.7.3-bin-all.tgz",
        "destination": "/vagrant/zeppelin-0.7.3-bin-all.tgz"
      },
      {
        "type": "shell",
        "scripts": [
          "scripts/installZeppelin.sh"
        ]
      },
      {
        "type": "file",
        "source": "scripts/startZeppelin.sh",
        "destination": "/home/vagrant/startZeppelin.sh"
      }]
  }